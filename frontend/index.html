<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>🔥 Fire Detection System v3.0</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <header class="header-box">
        <h1>🔥 Fire Detection Web</h1>
        <p>YOLO 기반 화재 감지 이미지·비디오 추론 시스템</p>
    </header>

    <!-- =============================== -->
    <!-- 🔥 Main Tabs -->
    <!-- =============================== -->
    <div class="tabs">
        <button class="tab-btn active" data-target="img-tab">
            <i class="fas fa-image"></i> 이미지 추론
        </button>

        <button class="tab-btn" data-target="video-tab">
            <i class="fas fa-video"></i> 비디오 분석
        </button>
    </div>

    <!-- =============================== -->
    <!-- 🔥 Image Tab -->
    <!-- =============================== -->
    <div id="img-tab" class="tab-content active card">

        <div class="section-box upload-section-combined">
            <h2>📸 이미지 추론</h2>
            <p>화재·연기 감지를 위한 이미지를 업로드하거나 드래그하여 분석할 수 있습니다.</p>

            <label class="upload-btn">
                이미지 선택
                <input type="file" id="imageInput" accept="image/*" />
            </label>

            <span id="imageFileName" class="file-name"></span>

            <div id="dropArea" class="drop-area">
                🔥 이미지를 여기에 드래그하세요
            </div>

            <button id="imagePredictBtn" class="upload-btn detect-btn">
                이미지 추론하기
            </button>
        </div>

        <div class="section-box preview-box">
            <h3>📌 이미지 미리보기</h3>

            <div class="canvas-container">
                <img id="previewImage" />
                <canvas id="canvas"></canvas>
            </div>
        </div>

        <div class="section-box result-box">
            <h3>📄 JSON 결과</h3>
            <pre id="resultBox">이미지 분석 결과가 여기에 표시됩니다...</pre>
        </div>

    </div>

    <!-- =============================== -->
    <!-- 🔥 Video Tab -->
    <!-- =============================== -->
    <div id="video-tab" class="tab-content card">

        <h2>🎥 비디오 업로드</h2>

        <label class="upload-btn">
            비디오 선택
            <input type="file" id="videoInput" accept="video/*" />
        </label>

        <span id="videoFileName" class="file-name"></span>

        <div class="video-preview-section">
            <h3>🎞 비디오 미리보기</h3>
            <video id="videoPreview" controls width="640"></video>
        </div>

        <button id="videoPredictBtn" class="upload-btn detect-btn">
            🔥 화재 탐지 시작하기
        </button>

        <div class="log-section">
            <h3>📄 비디오 분석 로그</h3>
            <pre id="videoLogBox">비디오 분석 로그가 여기에 표시됩니다...</pre>
        </div>

        <div class="metric-card">
            <h2>📈 Performance Metrics</h2>
            <h3>🎯 Accuracy Analysis</h3>
            <p>모델 클래스별 성능 분석 (추후 그래프 추가 예정)</p>

            <div class="metric-placeholder">
                Accuracy Chart Placeholder
            </div>
        </div>

    </div>

    <!-- =============================== -->
    <!-- 🔥 Scripts -->
    <!-- =============================== -->
    <script type="module" src="script.js"></script>

    <!-- 탭 전환 Script -->
    <script>
        document.querySelectorAll(".tab-btn").forEach(btn => {
            btn.addEventListener("click", () => {

                document.querySelectorAll(".tab-btn")
                    .forEach(b => b.classList.remove("active"));

                document.querySelectorAll(".tab-content")
                    .forEach(c => c.classList.remove("active"));

                btn.classList.add("active");
                document.getElementById(btn.dataset.target).classList.add("active");
            });
        });
    </script>

</body>
</html>
